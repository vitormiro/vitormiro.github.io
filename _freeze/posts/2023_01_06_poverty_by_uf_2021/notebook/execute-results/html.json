{
  "hash": "bc2da9042c2cea3c97523577abc7d50b",
  "result": {
    "markdown": "---\ntitle: \"Uma evidência sobre a distribuição regional da pobreza (2021)\"\noutput: html_notebook\n---\n\n\n### Indicadores de extrema pobreza por UF\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Aplicar o pacote convey\npnadc <- convey_prep(pnadc)\n\n# Calcular FGT(0) para cada UF\npex_uf <- survey::svyby(~rdpc,\n                        by = ~UF, \n                        design = pnadc,\n                        FUN = svyfgt,\n                        g=0, \n                        abs_thresh = 168,\n                        na.rm = TRUE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nNorte <- c(\"11\", \"12\", \"13\", \"14\", \"15\", \"16\", \"17\")\nNordeste <- c(\"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\")\nSudeste <- c(\"31\", \"32\", \"33\", \"35\")\nSul <- c(\"41\", \"42\", \"43\")\nCOeste <- c(\"50\", \"51\", \"52\", \"53\")\n\npex_uf <- pex_uf %>% mutate(\n    regiao = factor(case_when(UF %in% Norte ~ \"Norte\",\n                              UF %in% Nordeste ~ \"Nordeste\",\n                              UF %in% COeste ~ \"Centro-Oeste\",\n                              UF %in% Sudeste ~ \"Sudeste\",\n                              UF %in% Sul ~ \"Sul\")),\n    UF = recode(UF, \n                   \"11\" = \"RO\", \n                   \"12\" = \"AC\", \n                   \"13\" = \"AM\", \n                   \"14\" = \"RR\", \n                   \"15\" = \"PA\", \n                   \"16\" = \"AP\", \n                   \"17\" = \"TO\", \n                   \"21\" = \"MA\", \n                   \"22\" = \"PI\", \n                   \"23\" = \"CE\", \n                   \"24\" = \"RN\", \n                   \"25\" = \"PB\", \n                   \"26\" = \"PE\", \n                   \"27\" = \"AL\", \n                   \"28\" = \"SE\", \n                   \"29\" = \"BA\", \n                   \"31\" = \"MG\", \n                   \"32\" = \"ES\", \n                   \"33\" = \"RJ\", \n                   \"35\" = \"SP\", \n                   \"41\" = \"PR\", \n                   \"42\" = \"SC\", \n                   \"43\" = \"RS\", \n                   \"50\" = \"MS\", \n                   \"51\" = \"MT\", \n                   \"52\" = \"GO\", \n                   \"53\" = \"DF\"))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npex_uf %>% \n    dplyr::as_tibble() %>%\n    dplyr::mutate(UF = forcats::fct_reorder(UF, rdpc)) %>%\n    ggplot2::ggplot(ggplot2::aes(x = rdpc*100, y = UF)) +\n    ggplot2::geom_col(aes(fill = regiao)) +\n    ggplot2::labs(title = \"Extrema pobreza por UF (2021)\",\n                  subtitle = \"Proporção (%) segundo a linha de pobreza extrema de US$1,90/dia PPP.\",\n                  x = NULL,\n                  y = NULL,\n                  caption = \"Fonte: IBGE/PNADC.\")+\n    ggplot2::geom_text(aes(label= round(rdpc*100,1)), vjust=0.5, hjust=-0.1, size=2)\n```\n\n::: {.cell-output-display}\n![](notebook_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggsave(\"fig1.png\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSaving 7 x 5 in image\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmap <- read_state(showProgress = FALSE)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nUsing year 2010\n```\n:::\n\n```{.r .cell-code}\npex_map = left_join(map, pex_uf, by=c(\"abbrev_state\"=\"UF\"))\n\npex_map %>% \n    ggplot(aes(fill=round(rdpc*100,1)), color = \"black\") +\n    geom_sf() +\n    scale_fill_distiller(palette = \"YlGnBu\", name=\"Proporção (%)\", trans = \"reverse\") +\n    theme(panel.background = element_blank(), \n          axis.text = element_blank(), \n          axis.ticks = element_blank()) + \n    labs(title=\"Extrema pobreza por UF (2021)\",\n         caption=\"Source: IBGE/PNADC.\", size=8) \n```\n\n::: {.cell-output-display}\n![](notebook_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggsave(\"fig2.png\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSaving 7 x 5 in image\n```\n:::\n:::\n",
    "supporting": [
      "notebook_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}